{% extends 'layouts/base.twig' %}

{% block content %}
    <h2>Search Result</h2>
    {% if flash.error %}
        <div class="ui error message">
            {{ flash.error|e }}
        </div>
    {% endif %}
    <table class="ui single line table">
        <thead>
            <tr>
        		<th> Title </th>
        		<th> Company/User </th>
        		<th> Description </th>
        	</tr>
        </thead>

        <tbody>
            {% for patents in patent %}
        	<tr>
        		<td><a href="/patents/{{patents.patentId}}">{{ patents.title|e }}</a></td>
                {% if patents.company == user.username %}
                    <td><a href="/users/{{ patents.company|raw }}">{{ patents.company|e }}</a></td>
                {% else %}
        		<td> {{ patents.company|e }} </td>
                {% endif %}
        		<td> {{ patents.description|e }}</td>
        	</tr>
        	{% endfor %}

            {% if patent is empty %}
            <tr>
                <td colspan="3">There are no patents registered yet!</td>
            </tr>
            {% endif %}
        </tbody>
    </table>
{% endblock %}